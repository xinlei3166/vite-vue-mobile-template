import{q as $,d as C,m as h,Y as R,C as E,an as p,ao as T,Q as U,aa as F,k as M,N as O,O as x,e as t,y as g,z as L,H as I,a2 as V,au as q,a0 as z,L as j,B as G,b as H,h as Q,g as Y,c as A,a as l,u as P,t as B,w,a5 as J,p as K,j as W,o as X,av as Z,i as ee,aw as oe,_ as te}from"./index-842a2b51.js";import{C as ne}from"./index-644ef19d.js";import{C as ae}from"./index-9069bedf.js";import{h as se}from"./util-6227cf52.js";import"./use-route-48fe4929.js";const[ie,d]=$("image"),re={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:g,height:g,radius:g,lazyLoad:Boolean,iconSize:g,showError:L,errorIcon:I("photo-fail"),iconPrefix:String,showLoading:L,loadingIcon:I("photo")};var ce=C({name:ie,props:re,emits:["load","error"],setup(e,{emit:v,slots:r}){const c=h(!1),a=h(!0),s=h(),{$Lazyload:i}=R().proxy,b=E(()=>{const o={width:p(e.width),height:p(e.height)};return T(e.radius)&&(o.overflow="hidden",o.borderRadius=p(e.radius)),o});U(()=>e.src,()=>{c.value=!1,a.value=!0});const m=o=>{a.value&&(a.value=!1,v("load",o))},f=()=>{const o=new Event("load");Object.defineProperty(o,"target",{value:s.value,enumerable:!0}),m(o)},n=o=>{c.value=!0,a.value=!1,v("error",o)},u=(o,_,k)=>k?k():t(j,{name:o,size:e.iconSize,class:_,classPrefix:e.iconPrefix},null),D=()=>{if(a.value&&e.showLoading)return t("div",{class:d("loading")},[u(e.loadingIcon,d("loading-icon"),r.loading)]);if(c.value&&e.showError)return t("div",{class:d("error")},[u(e.errorIcon,d("error-icon"),r.error)])},N=()=>{if(c.value||!e.src)return;const o={alt:e.alt,class:d("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?V(t("img",z({ref:s},o),null),[[q("lazy"),e.src]]):t("img",z({ref:s,src:e.src,onLoad:m,onError:n},o),null)},y=({el:o})=>{const _=()=>{o===s.value&&a.value&&f()};s.value?_():x(_)},S=({el:o})=>{o===s.value&&!c.value&&n()};return i&&F&&(i.$on("loaded",y),i.$on("error",S),M(()=>{i.$off("loaded",y),i.$off("error",S)})),O(()=>{x(()=>{var o;(o=s.value)!=null&&o.complete&&!e.lazyLoad&&f()})}),()=>{var o;return t("div",{class:d({round:e.round,block:e.block}),style:b.value},[N(),D(),(o=r.default)==null?void 0:o.call(r)])}}});const le=G(ce),ue="/vite-vue-mobile-template/assets/avatar-4ef6186b.png",de=e=>(K("data-v-47b64c3c"),e=e(),W(),e),me={class:"avatar-info"},ve={class:"title-setting flex items-center justify-between"},fe=de(()=>l("span",null,"我的",-1)),_e={class:"flex items-center"},ge={class:"username-phone"},he={class:"username"},pe={class:"phone"},we=C({__name:"index",setup(e){const v=H(),r=Q(),c=Y(),a=E(()=>r.Userinfo),s=async()=>{const i=await Z();!i||i.code!==0||(ee("退出登录成功"),v.push("/login"),oe(),r.cleanup(),c.cleanup())};return(i,b)=>{const m=j,f=le,n=ae,u=ne;return X(),A(J,null,[l("div",me,[l("div",ve,[fe,t(m,{class:"title-setting-icon",size:"24",name:"setting-o"})]),l("div",_e,[t(f,{round:"",width:"50",height:"50",src:P(ue)},null,8,["src"]),l("div",ge,[l("div",he,B(a.value.name),1),l("div",pe,B(P(se)(a.value.phone)||"188******88"),1)]),t(m,{class:"text-white ml-auto",size:"16",name:"arrow"})])]),t(u,{class:"nav-menu",inset:""},{default:w(()=>[t(n,{icon:"wap-home-o",title:"Router","is-link":"",to:"/components/router"}),t(n,{icon:"edit",title:"Store","is-link":"",to:"/components/store"}),t(n,{icon:"share-o",title:"Provide","is-link":"",to:"/components/provide-inject"}),t(n,{icon:"guide-o",title:"Bus","is-link":"",to:"/components/bus"}),t(n,{icon:"notes-o",title:"Table","is-link":"",to:"/components/table"}),t(n,{icon:"apps-o",title:"Draggable","is-link":"",to:"/components/draggable"})]),_:1}),t(u,{class:"nav-menu",inset:""},{default:w(()=>[t(n,{icon:"setting-o",title:"Security Settings","is-link":""}),t(n,{icon:"chat-o",title:"Notification Settings","is-link":""})]),_:1}),t(u,{class:"nav-menu",inset:""},{default:w(()=>[t(n,{icon:"contact",title:"Logout",onClick:s})]),_:1})],64)}}});const Le=te(we,[["__scopeId","data-v-47b64c3c"]]);export{Le as default};
