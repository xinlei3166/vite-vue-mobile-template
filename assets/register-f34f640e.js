import{d as B,b as C,k as I,r as S,m as U,c as q,e as s,w as t,a as u,f as m,i as V,o as v,n as b,t as F,p as N,j as P,_ as z}from"./index-ee461707.js";import{p as j,C as D}from"./index-10080403.js";import"./index-681060b6.js";import{F as E}from"./index-f935bf80.js";import"./theme-9292adf7.js";import{F as G}from"./index-6fc6293d.js";import{B as L}from"./index-853f68ed.js";import"./use-route-123403f8.js";import"./use-id-f5084905.js";function R(){let a;const _=(c=0,e)=>{p(),a=setInterval(()=>{e==null||e()},c*1e3)},p=()=>{clearInterval(a),a=null};return{timer:a,initTimer:_,clearTimer:p}}const A=a=>(N("data-v-9b2f3a09"),a=a(),P(),a),H={class:"register"},J=A(()=>u("h2",{class:"register-title"},"注册账号",-1)),K={class:"btn-wrap"},M=60,O=B({__name:"register",setup(a){const _=C(),{initTimer:p,clearTimer:c}=R();I(()=>{c()});const e=S({account:void 0,phone:void 0,code:void 0,password1:void 0,password2:void 0}),g=n=>j.test(n),y=n=>!(e.password1&&n&&e.password1!==n),h=async n=>{if(!e.code){V("请输入验证码");return}V("注册成功"),w()},r=U(0),k=()=>{if(r.value===0){c();return}r.value=r.value-1},T=async()=>{r.value=M,p(1,k)},w=()=>{_.push({path:"/login"})};return(n,o)=>{const d=E,i=D,f=L,x=G;return v(),q("div",H,[J,s(x,{class:"register-form",onSubmit:h},{default:t(()=>[s(i,{class:"register-field",inset:""},{default:t(()=>[s(d,{modelValue:e.account,"onUpdate:modelValue":o[0]||(o[0]=l=>e.account=l),name:"account",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请输入账号"}]},null,8,["modelValue"])]),_:1}),s(i,{class:"register-field",inset:""},{default:t(()=>[s(d,{modelValue:e.phone,"onUpdate:modelValue":o[1]||(o[1]=l=>e.phone=l),type:"tel",name:"phone",label:"手机号",placeholder:"请输入手机号",rules:[{required:!0,message:"请输入手机号"},{validator:g,message:"手机号合适不正确"}]},null,8,["modelValue","rules"])]),_:1}),s(i,{class:"register-field",inset:""},{default:t(()=>[s(d,{modelValue:e.code,"onUpdate:modelValue":o[2]||(o[2]=l=>e.code=l),center:"",type:"tel",name:"code",label:"验证码",placeholder:"请输入验证码"},{button:t(()=>[r.value===0?(v(),b(f,{key:0,disabled:!g(e.phone),size:"small",type:"primary",onClick:T},{default:t(()=>[m(" 发送验证码 ")]),_:1},8,["disabled"])):(v(),b(f,{key:1,disabled:"",size:"small"},{default:t(()=>[m(F(r.value)+"s后重试",1)]),_:1}))]),_:1},8,["modelValue"])]),_:1}),s(i,{class:"register-field",inset:""},{default:t(()=>[s(d,{modelValue:e.password1,"onUpdate:modelValue":o[3]||(o[3]=l=>e.password1=l),type:"password",name:"password1",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请输入密码"}]},null,8,["modelValue"])]),_:1}),s(i,{class:"register-field",inset:""},{default:t(()=>[s(d,{modelValue:e.password2,"onUpdate:modelValue":o[4]||(o[4]=l=>e.password2=l),type:"password",name:"password2",label:"确认密码",placeholder:"请再次输入密码",rules:[{required:!0,message:"请再次输入密码"},{validator:y,message:"两次密码输入不一致"}]},null,8,["modelValue","rules"])]),_:1}),u("div",K,[s(f,{block:"",type:"primary","native-type":"submit"},{default:t(()=>[m("注册")]),_:1})])]),_:1}),u("div",{class:"tip-btn-wrap"},[u("span",null,[m(" 已有账号？ "),u("span",{class:"text-btn",onClick:w},"去登录")])])])}}});const te=z(O,[["__scopeId","data-v-9b2f3a09"]]);export{te as default};
