import{aN as P,r as k,m as d}from"./index-842a2b51.js";function x(t,a){return P.get("/api/mock/data/list",t,a)}const C={size:"small",current:1,defaultCurrent:1,pageSize:10,total:0,showTotal:t=>`共${t}条`,showLessItems:!0,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30","50","100"]};function D(t){const n=k({...C,...t||{}}),i=d(!1),o=d([]);return{loading:i,data:o,pagination:n}}function y(t,{params:a,pagination:n={},dataKey:i="list",cb:o,method:v="post",codeKey:h="code",successCode:m=0}){const S=n||{},{loading:u,data:r,pagination:s}=D({...S}),c=d(),p=async(g={})=>{var f;u.value=!0;const w=n?s.pageSize:void 0,z=n?s.current:void 0;let l={pageSize:w,page:z,...a==null?void 0:a.value,...g};v==="get"&&(l={params:l});const e=await t(l);u.value=!1,!(!e||e[h]!==m)&&(c.value=e.data,i?r.value=e.data[i]||[]:r.value=e.data,s.total=((f=e.data)==null?void 0:f.total)||0,o==null||o({sourceData:c,data:r}))};return{loading:u,sourceData:c,data:r,pagination:s,init:p,onSearch:async(g={})=>{s.current=1,await p(g)}}}export{x as g,y as u};
