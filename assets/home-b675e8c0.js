import{a6 as be,a7 as $e,a8 as je,m as R,a9 as qe,aa as Ke,ab as Re,k as Be,ac as Ae,q as F,y as L,H as Pe,U as H,d as W,ad as ze,r as ue,C as _,ae as Oe,X as Ee,M as Qe,Q as $,af as ye,ag as K,O as N,T as j,R as xe,S as Me,e as v,B as Q,z as p,ah as Ge,v as De,x as G,ai as Je,N as _e,aj as Ne,P as He,ak as q,A as et,al as he,am as ge,an as Te,ao as we,V as tt,ap as at,aq as Se,W as nt,$ as it,Z as Le,ar as lt,Y as ot,D as st,a2 as rt,a3 as ct,a0 as ut,as as Ce,c as dt,w as O,a5 as ft,o as vt,f as oe,_ as ht}from"./index-1c8caffb.js";import gt from"./Menu-b2fd96de.js";import se from"./List-23d175dd.js";import{u as pe}from"./use-id-da668a20.js";import{a as mt,r as bt}from"./use-route-3edcd030.js";function wt(e,o,u){let l=0;const n=e.scrollLeft,t=u===0?1:Math.round(u*1e3/16);function r(){e.scrollLeft+=(o-n)/t,++l<t&&be(r)}r()}function yt(e,o,u,l){let n=$e(e);const t=n<o,r=u===0?1:Math.round(u*1e3/16),d=(o-n)/r;function b(){n+=d,(t&&n>o||!t&&n<o)&&(n=o),je(e,n),t&&n<o||!t&&n>o?be(b):l&&be(l)}b()}function xt(){const e=R([]),o=[];return qe(()=>{e.value=[]}),[e,l=>(o[l]||(o[l]=n=>{e.value[l]=n}),o[l])]}function We(e,o){if(!Ke||!window.IntersectionObserver)return;const u=new IntersectionObserver(t=>{o(t[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&u.observe(e.value)},n=()=>{e.value&&u.unobserve(e.value)};Re(n),Be(n),Ae(l)}const[_t,Tt]=F("sticky"),St={zIndex:L,position:Pe("top"),container:Object,offsetTop:H(0),offsetBottom:H(0)};var Ct=W({name:_t,props:St,emits:["scroll","change"],setup(e,{emit:o,slots:u}){const l=R(),n=ze(l),t=ue({fixed:!1,width:0,height:0,transform:0}),r=R(!1),d=_(()=>Oe(e.position==="top"?e.offsetTop:e.offsetBottom)),b=_(()=>{if(r.value)return;const{fixed:i,height:C,width:m}=t;if(i)return{width:`${m}px`,height:`${C}px`}}),w=_(()=>{if(!t.fixed||r.value)return;const i=Ee(Qe(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${d.value}px`});return t.transform&&(i.transform=`translate3d(0, ${t.transform}px, 0)`),i}),h=i=>o("scroll",{scrollTop:i,isFixed:t.fixed}),y=()=>{if(!l.value||K(l))return;const{container:i,position:C}=e,m=j(l),E=$e(window);if(t.width=m.width,t.height=m.height,C==="top")if(i){const g=j(i),I=g.bottom-d.value-t.height;t.fixed=d.value>m.top&&g.bottom>0,t.transform=I<0?I:0}else t.fixed=d.value>m.top;else{const{clientHeight:g}=document.documentElement;if(i){const I=j(i),M=g-I.top-d.value-t.height;t.fixed=g-d.value<m.bottom&&g>I.top,t.transform=M<0?-M:0}else t.fixed=g-d.value<m.bottom}h(E)};return $(()=>t.fixed,i=>o("change",i)),ye("scroll",y,{target:n,passive:!0}),We(l,y),$([xe,Me],()=>{!l.value||K(l)||!t.fixed||(r.value=!0,N(()=>{const i=j(l);t.width=i.width,t.height=i.height,r.value=!1}))}),()=>{var i;return v("div",{ref:l,style:b.value},[v("div",{class:Tt({fixed:t.fixed&&!r.value}),style:w.value},[(i=u.default)==null?void 0:i.call(u)])])}}});const kt=Q(Ct),[Ye,re]=F("swipe"),It={loop:p,width:L,height:L,vertical:Boolean,autoplay:H(0),duration:H(500),touchable:p,lazyRender:Boolean,initialSwipe:H(0),indicatorColor:String,showIndicators:p,stopPropagation:p},Ve=Symbol(Ye);var $t=W({name:Ye,props:It,emits:["change","dragStart","dragEnd"],setup(e,{emit:o,slots:u}){const l=R(),n=R(),t=ue({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let r=!1;const d=Ge(),{children:b,linkChildren:w}=De(Ve),h=_(()=>b.length),y=_(()=>t[e.vertical?"height":"width"]),i=_(()=>e.vertical?d.deltaY.value:d.deltaX.value),C=_(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-y.value*h.value:0),m=_(()=>y.value?Math.ceil(Math.abs(C.value)/y.value):h.value),E=_(()=>h.value*y.value),g=_(()=>(t.active+h.value)%h.value),I=_(()=>{const c=e.vertical?"vertical":"horizontal";return d.direction.value===c}),M=_(()=>{const c={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${t.offset}px)`};if(y.value){const x=e.vertical?"height":"width",a=e.vertical?"width":"height";c[x]=`${E.value}px`,c[a]=e[a]?`${e[a]}px`:""}return c}),Y=c=>{const{active:x}=t;return c?e.loop?he(x+c,-1,h.value):he(x+c,0,m.value):x},V=(c,x=0)=>{let a=c*y.value;e.loop||(a=Math.min(a,-C.value));let s=x-a;return e.loop||(s=he(s,C.value,0)),s},k=({pace:c=0,offset:x=0,emitChange:a})=>{if(h.value<=1)return;const{active:s}=t,f=Y(c),T=V(f,x);if(e.loop){if(b[0]&&T!==C.value){const S=T<C.value;b[0].setOffset(S?E.value:0)}if(b[h.value-1]&&T!==0){const S=T>0;b[h.value-1].setOffset(S?-E.value:0)}}t.active=f,t.offset=T,a&&f!==s&&o("change",g.value)},X=()=>{t.swiping=!0,t.active<=-1?k({pace:h.value}):t.active>=h.value&&k({pace:-h.value})},Z=()=>{X(),d.reset(),q(()=>{t.swiping=!1,k({pace:-1,emitChange:!0})})},B=()=>{X(),d.reset(),q(()=>{t.swiping=!1,k({pace:1,emitChange:!0})})};let J;const P=()=>clearTimeout(J),z=()=>{P(),+e.autoplay>0&&h.value>1&&(J=setTimeout(()=>{B(),z()},+e.autoplay))},D=(c=+e.initialSwipe)=>{if(!l.value)return;const x=()=>{var a,s;if(!K(l)){const f={width:l.value.offsetWidth,height:l.value.offsetHeight};t.rect=f,t.width=+((a=e.width)!=null?a:f.width),t.height=+((s=e.height)!=null?s:f.height)}h.value&&(c=Math.min(h.value-1,c),c===-1&&(c=h.value-1)),t.active=c,t.swiping=!0,t.offset=V(c),b.forEach(f=>{f.setOffset(0)}),z()};K(l)?N().then(x):x()},ee=()=>D(t.active);let te;const de=c=>{!e.touchable||c.touches.length>1||(d.start(c),r=!1,te=Date.now(),P(),X())},fe=c=>{e.touchable&&t.swiping&&(d.move(c),I.value&&(!e.loop&&(t.active===0&&i.value>0||t.active===h.value-1&&i.value<0)||(et(c,e.stopPropagation),k({offset:i.value}),r||(o("dragStart",{index:g.value}),r=!0))))},ae=()=>{if(!e.touchable||!t.swiping)return;const c=Date.now()-te,x=i.value/c;if((Math.abs(x)>.25||Math.abs(i.value)>y.value/2)&&I.value){const s=e.vertical?d.offsetY.value:d.offsetX.value;let f=0;e.loop?f=s>0?i.value>0?-1:1:0:f=-Math[i.value>0?"ceil":"floor"](i.value/y.value),k({pace:f,emitChange:!0})}else i.value&&k({pace:0});r=!1,t.swiping=!1,o("dragEnd",{index:g.value}),z()},ve=(c,x={})=>{X(),d.reset(),q(()=>{let a;e.loop&&c===h.value?a=t.active===0?0:c:a=c%h.value,x.immediate?q(()=>{t.swiping=!1}):t.swiping=!1,k({pace:a-t.active,emitChange:!0})})},ne=(c,x)=>{const a=x===g.value,s=a?{backgroundColor:e.indicatorColor}:void 0;return v("i",{style:s,class:re("indicator",{active:a})},null)},ie=()=>{if(u.indicator)return u.indicator({active:g.value,total:h.value});if(e.showIndicators&&h.value>1)return v("div",{class:re("indicators",{vertical:e.vertical})},[Array(h.value).fill("").map(ne)])};return G({prev:Z,next:B,state:t,resize:ee,swipeTo:ve}),w({size:y,props:e,count:h,activeIndicator:g}),$(()=>e.initialSwipe,c=>D(+c)),$(h,()=>D(t.active)),$(()=>e.autoplay,z),$([xe,Me,()=>e.width,()=>e.height],ee),$(Je(),c=>{c==="visible"?z():P()}),_e(D),Ne(()=>D(t.active)),He(()=>D(t.active)),Re(P),Be(P),ye("touchmove",fe,{target:n}),()=>{var c;return v("div",{ref:l,class:re()},[v("div",{ref:n,style:M.value,class:re("track",{vertical:e.vertical}),onTouchstartPassive:de,onTouchend:ae,onTouchcancel:ae},[(c=u.default)==null?void 0:c.call(u)]),ie()])}}});const Xe=Q($t),[Rt,ke]=F("tabs");var Bt=W({name:Rt,props:{count:ge(Number),inited:Boolean,animated:Boolean,duration:ge(L),swipeable:Boolean,lazyRender:Boolean,currentIndex:ge(Number)},emits:["change"],setup(e,{emit:o,slots:u}){const l=R(),n=d=>o("change",d),t=()=>{var d;const b=(d=u.default)==null?void 0:d.call(u);return e.animated||e.swipeable?v(Xe,{ref:l,loop:!1,class:ke("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:n},{default:()=>[b]}):b},r=d=>{const b=l.value;b&&b.state.active!==d&&b.swipeTo(d,{immediate:!e.inited})};return $(()=>e.currentIndex,r),_e(()=>{r(e.currentIndex)}),G({swipeRef:l}),()=>v("div",{class:ke("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ze,ce]=F("tabs"),At={type:Pe("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:H(0),duration:H(.3),animated:Boolean,ellipsis:p,swipeable:Boolean,scrollspy:Boolean,offsetTop:H(0),background:String,lazyRender:p,lineWidth:L,lineHeight:L,beforeChange:Function,swipeThreshold:H(5),titleActiveColor:String,titleInactiveColor:String},Ue=Symbol(Ze);var Pt=W({name:Ze,props:At,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:o,slots:u}){let l,n,t;const r=R(),d=R(),b=R(),w=R(),h=pe(),y=ze(r),[i,C]=xt(),{children:m,linkChildren:E}=De(Ue),g=ue({inited:!1,position:"",lineStyle:{},currentIndex:-1}),I=_(()=>m.length>+e.swipeThreshold||!e.ellipsis||e.shrink),M=_(()=>({borderColor:e.color,background:e.background})),Y=(a,s)=>{var f;return(f=a.name)!=null?f:s},V=_(()=>{const a=m[g.currentIndex];if(a)return Y(a,g.currentIndex)}),k=_(()=>Oe(e.offsetTop)),X=_(()=>e.sticky?k.value+l:0),Z=a=>{const s=d.value,f=i.value;if(!I.value||!s||!f||!f[g.currentIndex])return;const T=f[g.currentIndex].$el,S=T.offsetLeft-(s.offsetWidth-T.offsetWidth)/2;wt(s,S,a?0:+e.duration)},B=()=>{const a=g.inited;N(()=>{const s=i.value;if(!s||!s[g.currentIndex]||e.type!=="line"||K(r.value))return;const f=s[g.currentIndex].$el,{lineWidth:T,lineHeight:S}=e,A=f.offsetLeft+f.offsetWidth/2,U={width:Te(T),backgroundColor:e.color,transform:`translateX(${A}px) translateX(-50%)`};if(a&&(U.transitionDuration=`${e.duration}s`),we(S)){const le=Te(S);U.height=le,U.borderRadius=le}g.lineStyle=U})},J=a=>{const s=a<g.currentIndex?-1:1;for(;a>=0&&a<m.length;){if(!m[a].disabled)return a;a+=s}},P=(a,s)=>{const f=J(a);if(!we(f))return;const T=m[f],S=Y(T,f),A=g.currentIndex!==null;g.currentIndex!==f&&(g.currentIndex=f,s||Z(),B()),S!==e.active&&(o("update:active",S),A&&o("change",S,T.title)),t&&!e.scrollspy&&at(Math.ceil(Se(r.value)-k.value))},z=(a,s)=>{const f=m.find((S,A)=>Y(S,A)===a),T=f?m.indexOf(f):0;P(T,s)},D=(a=!1)=>{if(e.scrollspy){const s=m[g.currentIndex].$el;if(s&&y.value){const f=Se(s,y.value)-X.value;n=!0,yt(y.value,f,a?0:+e.duration,()=>{n=!1})}}},ee=(a,s,f)=>{const{title:T,disabled:S}=m[s],A=Y(m[s],s);S||(nt(e.beforeChange,{args:[A],done:()=>{P(s),D()}}),mt(a)),o("clickTab",{name:A,title:T,event:f,disabled:S})},te=a=>{t=a.isFixed,o("scroll",a)},de=a=>{N(()=>{z(a),D(!0)})},fe=()=>{for(let a=0;a<m.length;a++){const{top:s}=j(m[a].$el);if(s>X.value)return a===0?0:a-1}return m.length-1},ae=()=>{if(e.scrollspy&&!n){const a=fe();P(a)}},ve=()=>{if(e.type==="line"&&m.length)return v("div",{class:ce("line"),style:g.lineStyle},null)},ne=()=>{var a,s,f;const{type:T,border:S,sticky:A}=e,U=[v("div",{ref:A?void 0:b,class:[ce("wrap"),{[tt]:T==="line"&&S}]},[v("div",{ref:d,role:"tablist",class:ce("nav",[T,{shrink:e.shrink,complete:I.value}]),style:M.value,"aria-orientation":"horizontal"},[(a=u["nav-left"])==null?void 0:a.call(u),m.map(le=>le.renderTitle(ee)),ve(),(s=u["nav-right"])==null?void 0:s.call(u)])]),(f=u["nav-bottom"])==null?void 0:f.call(u)];return A?v("div",{ref:b},[U]):U},ie=()=>{B(),N(()=>{var a,s;Z(!0),(s=(a=w.value)==null?void 0:a.swipeRef.value)==null||s.resize()})};$(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],B),$(xe,ie),$(()=>e.active,a=>{a!==V.value&&z(a)}),$(()=>m.length,()=>{g.inited&&(z(e.active),B(),N(()=>{Z(!0)}))});const c=()=>{z(e.active,!0),N(()=>{g.inited=!0,b.value&&(l=j(b.value).height),Z(!0)})},x=(a,s)=>o("rendered",a,s);return G({resize:ie,scrollTo:de}),Ne(B),He(B),Ae(c),We(r,B),ye("scroll",ae,{target:y,passive:!0}),E({id:h,props:e,setLine:B,scrollable:I,onRendered:x,currentName:V,setTitleRefs:C,scrollIntoView:Z}),()=>v("div",{ref:r,class:ce([e.type])},[e.sticky?v(kt,{container:r.value,offsetTop:k.value,onScroll:te},{default:()=>[ne()]}):ne(),v(Bt,{ref:w,count:m.length,inited:g.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:g.currentIndex,onChange:P},{default:()=>{var a;return[(a=u.default)==null?void 0:a.call(u)]}})])}});const zt=Symbol(),[Ot,Ie]=F("tab"),Et=W({name:Ot,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:L,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:p},setup(e,{slots:o}){const u=_(()=>{const n={},{type:t,color:r,disabled:d,isActive:b,activeColor:w,inactiveColor:h}=e;r&&t==="card"&&(n.borderColor=r,d||(b?n.backgroundColor=r:n.color=r));const i=b?w:h;return i&&(n.color=i),n}),l=()=>{const n=v("span",{class:Ie("text",{ellipsis:!e.scrollable})},[o.title?o.title():e.title]);return e.dot||we(e.badge)&&e.badge!==""?v(it,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[n]}):n};return()=>v("div",{id:e.id,role:"tab",class:[Ie([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:u.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[l()])}}),[Mt,Dt]=F("swipe-item");var Nt=W({name:Mt,setup(e,{slots:o}){let u;const l=ue({offset:0,inited:!1,mounted:!1}),{parent:n,index:t}=Le(Ve);if(!n)return;const r=_(()=>{const w={},{vertical:h}=n.props;return n.size.value&&(w[h?"height":"width"]=`${n.size.value}px`),l.offset&&(w.transform=`translate${h?"Y":"X"}(${l.offset}px)`),w}),d=_(()=>{const{loop:w,lazyRender:h}=n.props;if(!h||u)return!0;if(!l.mounted)return!1;const y=n.activeIndicator.value,i=n.count.value-1,C=y===0&&w?i:y-1,m=y===i&&w?0:y+1;return u=t.value===y||t.value===C||t.value===m,u}),b=w=>{l.offset=w};return _e(()=>{N(()=>{l.mounted=!0})}),G({setOffset:b}),()=>{var w;return v("div",{class:Dt(),style:r.value},[d.value?(w=o.default)==null?void 0:w.call(o):null])}}});const Fe=Q(Nt),[Ht,me]=F("tab"),Lt=Ee({},bt,{dot:Boolean,name:L,badge:L,title:String,disabled:Boolean,titleClass:lt,titleStyle:[String,Object],showZeroBadge:p});var pt=W({name:Ht,props:Lt,setup(e,{slots:o}){const u=pe(),l=R(!1),n=ot(),{parent:t,index:r}=Le(Ue);if(!t)return;const d=()=>{var i;return(i=e.name)!=null?i:r.value},b=()=>{l.value=!0,t.props.lazyRender&&N(()=>{t.onRendered(d(),e.title)})},w=_(()=>{const i=d()===t.currentName.value;return i&&!l.value&&b(),i}),h=i=>v(Et,ut({key:u,id:`${t.id}-${r.value}`,ref:t.setTitleRefs(r.value),style:e.titleStyle,class:e.titleClass,isActive:w.value,controls:u,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:C=>i(n.proxy,r.value,C)},Ce(t.props,["type","color","shrink"]),Ce(e,["dot","badge","title","disabled","showZeroBadge"])),{title:o.title}),y=R(!w.value);return $(w,i=>{i?y.value=!1:q(()=>{y.value=!0})}),$(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),st(zt,w),G({id:u,renderTitle:h}),()=>{var i;const C=`${t.id}-${r.value}`,{animated:m,swipeable:E,scrollspy:g,lazyRender:I}=t.props;if(!o.default&&!m)return;const M=g||w.value;if(m||E)return v(Fe,{id:u,role:"tabpanel",class:me("panel-wrapper",{inactive:y.value}),tabindex:w.value?0:-1,"aria-hidden":!w.value,"aria-labelledby":C},{default:()=>{var k;return[v("div",{class:me("panel")},[(k=o.default)==null?void 0:k.call(o)])]}});const V=l.value||g||!I?(i=o.default)==null?void 0:i.call(o):null;return rt(v("div",{id:u,role:"tabpanel",class:me("panel"),tabindex:M?0:-1,"aria-labelledby":C},[V]),[[ct,M]])}}});const Wt=Q(pt),Yt=Q(Pt);const Vt=W({__name:"home",setup(e){const o=R(0);return(u,l)=>{const n=Fe,t=Xe,r=Wt,d=Yt;return vt(),dt(ft,null,[v(t,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:O(()=>[v(n,null,{default:O(()=>[oe("明心见性")]),_:1}),v(n,null,{default:O(()=>[oe("学习思考")]),_:1}),v(n,null,{default:O(()=>[oe("坚持不懈")]),_:1}),v(n,null,{default:O(()=>[oe("收放自如")]),_:1})]),_:1}),v(gt),v(d,{active:o.value,"onUpdate:active":l[0]||(l[0]=b=>o.value=b),class:"tabs"},{default:O(()=>[v(r,{title:"热门推荐"},{default:O(()=>[v(se,{tab:"热门推荐",data:Array.from({length:10})},null,8,["data"])]),_:1}),v(r,{title:"时尚流行"},{default:O(()=>[v(se,{tab:"时尚流行",data:Array.from({length:10})},null,8,["data"])]),_:1}),v(r,{title:"经典怀旧"},{default:O(()=>[v(se,{tab:"经典怀旧",data:Array.from({length:10})},null,8,["data"])]),_:1}),v(r,{title:"其他类型"},{default:O(()=>[v(se,{tab:"其他类型",data:Array.from({length:10})},null,8,["data"])]),_:1})]),_:1},8,["active"])],64)}}});const qt=ht(Vt,[["__scopeId","data-v-878f3918"]]);export{qt as default};
