import{d as B,b as C,k as I,r as S,m as U,c as q,e as s,w as t,a as p,f as m,i as V,o as v,n as y,t as F,p as N,j as P,_ as z}from"./index-1c8caffb.js";import{p as j,C as D}from"./index-a7289dba.js";import"./index-321bca8e.js";import{F as E}from"./index-25e31a5d.js";import"./theme-885a0cd2.js";import{F as G}from"./index-7b217f7e.js";import{B as L}from"./index-21a5e35e.js";import"./use-route-3edcd030.js";import"./use-id-da668a20.js";function R(){let a;const _=(r,e=0)=>{c(),a=setInterval(()=>{r==null||r()},e*1e3)},c=()=>{clearInterval(a),a=null};return{timer:a,initTimer:_,clearTimer:c}}const A=a=>(N("data-v-ffcce54a"),a=a(),P(),a),H={class:"register"},J=A(()=>p("h2",{class:"register-title"},"注册账号",-1)),K={class:"btn-wrap"},M=60,O=B({__name:"register",setup(a){const _=C(),{initTimer:c,clearTimer:r}=R();I(()=>{r()});const e=S({account:void 0,phone:void 0,code:void 0,password1:void 0,password2:void 0}),g=d=>j.test(d),b=d=>!(e.password1&&d&&e.password1!==d),h=async d=>{if(!e.code){V("请输入验证码");return}V("注册成功"),w()},n=U(0),k=()=>{if(n.value===0){r();return}n.value=n.value-1},T=async()=>{n.value=M,c(k,1)},w=()=>{_.push({path:"/login"})};return(d,o)=>{const i=E,u=D,f=L,x=G;return v(),q("div",H,[J,s(x,{class:"register-form",onSubmit:h},{default:t(()=>[s(u,{class:"register-field",inset:""},{default:t(()=>[s(i,{modelValue:e.account,"onUpdate:modelValue":o[0]||(o[0]=l=>e.account=l),name:"account",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请输入账号"}]},null,8,["modelValue"])]),_:1}),s(u,{class:"register-field",inset:""},{default:t(()=>[s(i,{modelValue:e.phone,"onUpdate:modelValue":o[1]||(o[1]=l=>e.phone=l),type:"tel",name:"phone",label:"手机号",placeholder:"请输入手机号",rules:[{required:!0,message:"请输入手机号"},{validator:g,message:"手机号合适不正确"}]},null,8,["modelValue","rules"])]),_:1}),s(u,{class:"register-field",inset:""},{default:t(()=>[s(i,{modelValue:e.code,"onUpdate:modelValue":o[2]||(o[2]=l=>e.code=l),center:"",type:"tel",name:"code",label:"验证码",placeholder:"请输入验证码"},{button:t(()=>[n.value===0?(v(),y(f,{key:0,disabled:!g(e.phone),size:"small",type:"primary",onClick:T},{default:t(()=>[m(" 发送验证码 ")]),_:1},8,["disabled"])):(v(),y(f,{key:1,disabled:"",size:"small"},{default:t(()=>[m(F(n.value)+"s后重试",1)]),_:1}))]),_:1},8,["modelValue"])]),_:1}),s(u,{class:"register-field",inset:""},{default:t(()=>[s(i,{modelValue:e.password1,"onUpdate:modelValue":o[3]||(o[3]=l=>e.password1=l),type:"password",name:"password1",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请输入密码"}]},null,8,["modelValue"])]),_:1}),s(u,{class:"register-field",inset:""},{default:t(()=>[s(i,{modelValue:e.password2,"onUpdate:modelValue":o[4]||(o[4]=l=>e.password2=l),type:"password",name:"password2",label:"确认密码",placeholder:"请再次输入密码",rules:[{required:!0,message:"请再次输入密码"},{validator:b,message:"两次密码输入不一致"}]},null,8,["modelValue","rules"])]),_:1}),p("div",K,[s(f,{block:"",type:"primary","native-type":"submit"},{default:t(()=>[m("注册")]),_:1})])]),_:1}),p("div",{class:"tip-btn-wrap"},[p("span",null,[m(" 已有账号？ "),p("span",{class:"text-btn",onClick:w},"去登录")])])])}}});const te=z(O,[["__scopeId","data-v-ffcce54a"]]);export{te as default};
