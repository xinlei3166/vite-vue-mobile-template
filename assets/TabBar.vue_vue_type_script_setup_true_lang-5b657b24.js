import{m as h,N,O as y,P as M,Q as z,R as D,S as E,T as H,e as m,q as A,z as C,y as x,U as j,d as P,v as F,M as L,V as U,W,B as S,X as Y,Y as Z,Z as q,C as _,$ as K,a0 as Q,a1 as X,L as G,b as J,a2 as ee,a3 as te,o as g,n as w,w as I,c as ae,a4 as ne,f as oe,t as re,a5 as se}from"./index-1c8caffb.js";import{r as ce,u as le}from"./use-route-3edcd030.js";const ie=(e,s)=>{const t=h(),a=()=>{t.value=H(e).height};return N(()=>{if(y(a),s)for(let l=1;l<=3;l++)setTimeout(a,100*l)}),M(()=>y(a)),z([D,E],a),t};function ue(e,s){const t=ie(e,!0);return a=>m("div",{class:s("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[a()])}const[V,k]=A("tabbar"),de={route:Boolean,fixed:C,border:C,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:j(0),safeAreaInsetBottom:{type:Boolean,default:null}},R=Symbol(V);var me=P({name:V,props:de,emits:["change","update:modelValue"],setup(e,{emit:s,slots:t}){const a=h(),{linkChildren:l}=F(R),i=ue(a,k),u=()=>{var o;return(o=e.safeAreaInsetBottom)!=null?o:e.fixed},c=()=>{var o;const{fixed:r,zIndex:n,border:b}=e;return m("div",{ref:a,role:"tablist",style:L(n),class:[k({fixed:r}),{[U]:b,"van-safe-area-bottom":u()}]},[(o=t.default)==null?void 0:o.call(t)])};return l({props:e,setActive:(o,r)=>{W(e.beforeChange,{args:[o],done(){s("update:modelValue",o),s("change",o),r()}})}}),()=>e.fixed&&e.placeholder?i(c):c()}});const ve=S(me),[be,B]=A("tabbar-item"),fe=Y({},ce,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var he=P({name:be,props:fe,emits:["click"],setup(e,{emit:s,slots:t}){const a=le(),l=Z().proxy,{parent:i,index:u}=q(R);if(!i)return;const c=_(()=>{var r;const{route:n,modelValue:b}=i.props;if(n&&"$route"in l){const{$route:p}=l,{to:f}=e,d=X(f)?f:{path:f};return!!p.matched.find(T=>{const $="path"in d&&d.path===T.path,O="name"in d&&d.name===T.name;return $||O})}return((r=e.name)!=null?r:u.value)===b}),v=r=>{var n;c.value||i.setActive((n=e.name)!=null?n:u.value,a),s("click",r)},o=()=>{if(t.icon)return t.icon({active:c.value});if(e.icon)return m(G,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:n,badge:b}=e,{activeColor:p,inactiveColor:f}=i.props,d=c.value?p:f;return m("div",{role:"tab",class:B({active:c.value}),style:{color:d},tabindex:0,"aria-selected":c.value,onClick:v},[m(K,Q({dot:n,class:B("icon"),content:b},e.badgeProps),{default:o}),m("div",{class:B("text")},[(r=t.default)==null?void 0:r.call(t,{active:c.value})])])}}});const pe=S(he);const xe=P({__name:"TabBar",props:{defaultActiveTabBar:{type:[Number,String],default:""},tabBars:{type:Array,default:()=>[]}},setup(e){const s=e,t=J(),a=h([{title:"首页",to:"/home",icon:"wap-home-o"},{title:"资讯",to:"/news",icon:"comment-o"},{title:"消息",to:"/message",icon:"chat-o"},{title:"我的",to:"/my",icon:"contact"}]),l=h(s.defaultActiveTabBar||a.value[0].to),i=_(()=>s.tabBars.length?s.tabBars:a.value),u=_(()=>a.value.some(c=>c.to===t.currentRoute.value.path));return(c,v)=>{const o=pe,r=ve;return ee((g(),w(r,{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=n=>l.value=n),fixed:"",route:""},{default:I(()=>[(g(!0),ae(se,null,ne(i.value,n=>(g(),w(o,{key:n.to,to:n.to,icon:n.icon},{default:I(()=>[oe(re(n.title),1)]),_:2},1032,["to","icon"]))),128))]),_:1},8,["modelValue"])),[[te,u.value]])}}});export{xe as _,ue as u};
